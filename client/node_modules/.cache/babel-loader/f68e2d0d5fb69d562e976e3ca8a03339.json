{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maste\\\\OneDrive\\\\Desktop\\\\WebDev\\\\InstiConnect\\\\client\\\\src\\\\components\\\\AuthComponent.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { Button } from \"react-bootstrap\";\nimport Post from \"./Post/Post.js\";\nimport useStyles from \"../styles.js\";\nimport \"../index.css\";\nexport function AuthComponent() {\n  const classes = useStyles();\n  const cookies = new Cookies();\n  const token = cookies.get(\"TOKEN\");\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    // set configurations for the API call here\n    const configuration = {\n      method: \"get\",\n      url: \"http://localhost:5000/posts\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }; // make the API call\n\n    axios(configuration).then(result => {\n      let postsData = [];\n      result.data.map(post => {\n        postsData.push(post);\n      }); // assign the message in our result to the message we initialized above\n\n      setMessage(postsData);\n    }).catch(error => {\n      error = new Error();\n    });\n  }, []); // logout\n\n  const logout = () => {\n    // destroy the cookie\n    cookies.remove(\"TOKEN\", {\n      path: \"/\"\n    }); // redirect user to the landing page\n\n    window.location.href = \"/\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    id: \"navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/create-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, \"Make new post\")), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/find-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, \"Search user\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.mainContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, \"Posts\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }), message && message.map(post => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Post, {\n      content: post.desc,\n      creator: post.userId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"danger\",\n    onClick: () => logout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"Logout\")));\n}","map":{"version":3,"names":["React","useEffect","useState","axios","Cookies","Button","Post","useStyles","AuthComponent","classes","cookies","token","get","message","setMessage","configuration","method","url","headers","Authorization","then","result","postsData","data","map","post","push","catch","error","Error","logout","remove","path","window","location","href","mainContainer","desc","userId"],"sources":["C:/Users/maste/OneDrive/Desktop/WebDev/InstiConnect/client/src/components/AuthComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Post from \"./Post/Post.js\";\r\nimport useStyles from \"../styles.js\";\r\nimport \"../index.css\";\r\n\r\nexport function AuthComponent() {\r\n\tconst classes = useStyles();\r\n\tconst cookies = new Cookies();\r\n\tconst token = cookies.get(\"TOKEN\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tuseEffect(() => {\r\n\t\t// set configurations for the API call here\r\n\t\tconst configuration = {\r\n\t\t\tmethod: \"get\",\r\n\t\t\turl: \"http://localhost:5000/posts\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// make the API call\r\n\t\taxios(configuration)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tlet postsData = [];\r\n\t\t\t\tresult.data.map((post) => {\r\n\t\t\t\t\tpostsData.push(post);\r\n\t\t\t\t});\r\n\t\t\t\t// assign the message in our result to the message we initialized above\r\n\t\t\t\tsetMessage(postsData);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\terror = new Error();\r\n\t\t\t});\r\n\t}, []);\r\n\t// logout\r\n\tconst logout = () => {\r\n\t\t// destroy the cookie\r\n\t\tcookies.remove(\"TOKEN\", { path: \"/\" });\r\n\t\t// redirect user to the landing page\r\n\t\twindow.location.href = \"/\";\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<section id=\"navigation\">\r\n\t\t\t\t<a href=\"/create-post\">\r\n\t\t\t\t\t<button type=\"button\">Make new post</button>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href=\"/find-user\">\r\n\t\t\t\t\t<button type=\"button\">Search user</button>\r\n\t\t\t\t</a>\r\n\t\t\t</section>\r\n\t\t\t<div className={classes.mainContainer}>\r\n\t\t\t\t<h1>Posts</h1>\r\n\t\t\t\t<br />\r\n\t\t\t\t{message &&\r\n\t\t\t\t\tmessage.map((post) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Post content={post.desc} creator={post.userId} />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t{/* logout */}\r\n\t\t\t\t<Button type=\"submit\" variant=\"danger\" onClick={() => logout()}>\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}