{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maste\\\\OneDrive\\\\Desktop\\\\WebDev\\\\InstiConnect\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport useStyles from \"./styles\";\nconst cookies = new Cookies();\nexport default function Login() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [login, setLogin] = useState(false);\n\n  const handleSubmit = e => {\n    // prevent the form from refreshing the whole page\n    e.preventDefault(); //set configurations\n\n    const config = {\n      method: \"post\",\n      url: \"http://localhost:5000/auth/login\",\n      data: {\n        email,\n        password\n      }\n    };\n    axios(config).then(result => {\n      setLogin(true);\n      cookies.set(\"TOKEN\", result.data.token, {\n        path: \"/\"\n      }); // redirect user to the auth page\n\n      window.location.href = \"/auth\";\n      alert(\"done\");\n    }).catch(err => {\n      console.log(err);\n      alert(\"not done\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.mainContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: classes.textCenter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicPasseord\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, \"Submit\"), login ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 14\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 34\n    }\n  }, \"Login failed!\")));\n}","map":{"version":3,"names":["React","Form","Button","useState","axios","Cookies","useStyles","cookies","Login","classes","email","setEmail","password","setPassword","login","setLogin","handleSubmit","e","preventDefault","config","method","url","data","then","result","set","token","path","window","location","href","alert","catch","err","console","log","mainContainer","textCenter","target","value"],"sources":["C:/Users/maste/OneDrive/Desktop/WebDev/InstiConnect/client/src/components/Login/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst cookies = new Cookies();\r\nexport default function Login() {\r\n\tconst classes = useStyles();\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [login, setLogin] = useState(false);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\t// prevent the form from refreshing the whole page\r\n\t\te.preventDefault();\r\n\t\t//set configurations\r\n\t\tconst config = {\r\n\t\t\tmethod: \"post\",\r\n\t\t\turl: \"http://localhost:5000/auth/login\",\r\n\t\t\tdata: {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t},\r\n\t\t};\r\n\t\taxios(config)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tsetLogin(true);\r\n\t\t\t\tcookies.set(\"TOKEN\", result.data.token, {\r\n\t\t\t\t\tpath: \"/\",\r\n\t\t\t\t});\r\n\t\t\t\t// redirect user to the auth page\r\n\t\t\t\twindow.location.href = \"/auth\";\r\n\r\n\t\t\t\talert(\"done\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\talert(\"not done\");\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.mainContainer}>\r\n\t\t\t<h2 className={classes.textCenter}>Login</h2>\r\n\t\t\t<Form>\r\n\t\t\t\t{/* email */}\r\n\t\t\t\t<Form.Group controlId=\"formBasicEmail\">\r\n\t\t\t\t\t<Form.Label>Email address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t{/* password */}\r\n\t\t\t\t<Form.Group controlId=\"formBasicPasseord\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t{/* submit button */}\r\n\t\t\t\t<Button variant=\"primary\" type=\"submit\" onClick={(e) => handleSubmit(e)}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t{login ? <p>Loading...</p> : <p>Login failed!</p>}\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}